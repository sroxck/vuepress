<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>IO | Sroxck</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/vuepress/favicon.ico">
    <meta name="description" content="技术文档">
    
    <link rel="preload" href="/vuepress/assets/css/0.styles.ff70c332.css" as="style"><link rel="preload" href="/vuepress/assets/js/app.bbe92bc2.js" as="script"><link rel="preload" href="/vuepress/assets/js/2.f37fa600.js" as="script"><link rel="preload" href="/vuepress/assets/js/16.19e52523.js" as="script"><link rel="prefetch" href="/vuepress/assets/js/10.9726d69a.js"><link rel="prefetch" href="/vuepress/assets/js/100.211c347f.js"><link rel="prefetch" href="/vuepress/assets/js/101.e79dbf44.js"><link rel="prefetch" href="/vuepress/assets/js/102.a2a1415d.js"><link rel="prefetch" href="/vuepress/assets/js/103.a9e720b3.js"><link rel="prefetch" href="/vuepress/assets/js/104.efa43da3.js"><link rel="prefetch" href="/vuepress/assets/js/105.5ef1d7d2.js"><link rel="prefetch" href="/vuepress/assets/js/106.4493aeac.js"><link rel="prefetch" href="/vuepress/assets/js/107.d983f98f.js"><link rel="prefetch" href="/vuepress/assets/js/108.65399b80.js"><link rel="prefetch" href="/vuepress/assets/js/109.21f02bc9.js"><link rel="prefetch" href="/vuepress/assets/js/11.30d94734.js"><link rel="prefetch" href="/vuepress/assets/js/110.4bb9c51d.js"><link rel="prefetch" href="/vuepress/assets/js/111.84b6832b.js"><link rel="prefetch" href="/vuepress/assets/js/112.4c8a1a1f.js"><link rel="prefetch" href="/vuepress/assets/js/113.80d3b656.js"><link rel="prefetch" href="/vuepress/assets/js/114.aeefdf48.js"><link rel="prefetch" href="/vuepress/assets/js/115.bb840653.js"><link rel="prefetch" href="/vuepress/assets/js/116.9bbdbc02.js"><link rel="prefetch" href="/vuepress/assets/js/117.6535e04e.js"><link rel="prefetch" href="/vuepress/assets/js/118.f862880d.js"><link rel="prefetch" href="/vuepress/assets/js/119.be84cf65.js"><link rel="prefetch" href="/vuepress/assets/js/12.70493217.js"><link rel="prefetch" href="/vuepress/assets/js/120.e5d1cc91.js"><link rel="prefetch" href="/vuepress/assets/js/121.54c55998.js"><link rel="prefetch" href="/vuepress/assets/js/122.9b22b2eb.js"><link rel="prefetch" href="/vuepress/assets/js/123.d7f9cb18.js"><link rel="prefetch" href="/vuepress/assets/js/124.8e658d17.js"><link rel="prefetch" href="/vuepress/assets/js/125.7bdabaa5.js"><link rel="prefetch" href="/vuepress/assets/js/126.f58aa604.js"><link rel="prefetch" href="/vuepress/assets/js/127.3e9dec67.js"><link rel="prefetch" href="/vuepress/assets/js/128.104e3799.js"><link rel="prefetch" href="/vuepress/assets/js/129.26034487.js"><link rel="prefetch" href="/vuepress/assets/js/13.cb89dfc9.js"><link rel="prefetch" href="/vuepress/assets/js/130.62cbd306.js"><link rel="prefetch" href="/vuepress/assets/js/131.d9b06d28.js"><link rel="prefetch" href="/vuepress/assets/js/132.23ca4e41.js"><link rel="prefetch" href="/vuepress/assets/js/133.bd70a17b.js"><link rel="prefetch" href="/vuepress/assets/js/134.3d68091e.js"><link rel="prefetch" href="/vuepress/assets/js/135.9c278f3e.js"><link rel="prefetch" href="/vuepress/assets/js/136.893778db.js"><link rel="prefetch" href="/vuepress/assets/js/137.200c5c1b.js"><link rel="prefetch" href="/vuepress/assets/js/138.ee565849.js"><link rel="prefetch" href="/vuepress/assets/js/139.afb9cfd6.js"><link rel="prefetch" href="/vuepress/assets/js/14.4b7cedb1.js"><link rel="prefetch" href="/vuepress/assets/js/140.c2132910.js"><link rel="prefetch" href="/vuepress/assets/js/141.12a8939b.js"><link rel="prefetch" href="/vuepress/assets/js/142.463625ec.js"><link rel="prefetch" href="/vuepress/assets/js/143.16c7d1a8.js"><link rel="prefetch" href="/vuepress/assets/js/144.3fad5fd9.js"><link rel="prefetch" href="/vuepress/assets/js/145.6f090178.js"><link rel="prefetch" href="/vuepress/assets/js/146.37678732.js"><link rel="prefetch" href="/vuepress/assets/js/147.6f65497c.js"><link rel="prefetch" href="/vuepress/assets/js/148.53ada8bd.js"><link rel="prefetch" href="/vuepress/assets/js/149.ce2e58c0.js"><link rel="prefetch" href="/vuepress/assets/js/15.59b0aa3b.js"><link rel="prefetch" href="/vuepress/assets/js/150.a357b852.js"><link rel="prefetch" href="/vuepress/assets/js/151.d73aae95.js"><link rel="prefetch" href="/vuepress/assets/js/152.56e6435f.js"><link rel="prefetch" href="/vuepress/assets/js/153.7a5c08eb.js"><link rel="prefetch" href="/vuepress/assets/js/154.db56c847.js"><link rel="prefetch" href="/vuepress/assets/js/155.4508445e.js"><link rel="prefetch" href="/vuepress/assets/js/156.74764767.js"><link rel="prefetch" href="/vuepress/assets/js/157.f5f02a4f.js"><link rel="prefetch" href="/vuepress/assets/js/158.679f2d4a.js"><link rel="prefetch" href="/vuepress/assets/js/159.a95e2e01.js"><link rel="prefetch" href="/vuepress/assets/js/160.eb593889.js"><link rel="prefetch" href="/vuepress/assets/js/161.95cf4c9b.js"><link rel="prefetch" href="/vuepress/assets/js/162.aec4471b.js"><link rel="prefetch" href="/vuepress/assets/js/163.95b58851.js"><link rel="prefetch" href="/vuepress/assets/js/164.b445c295.js"><link rel="prefetch" href="/vuepress/assets/js/165.6ae61d80.js"><link rel="prefetch" href="/vuepress/assets/js/166.a2c6d094.js"><link rel="prefetch" href="/vuepress/assets/js/167.528c6530.js"><link rel="prefetch" href="/vuepress/assets/js/168.a7947287.js"><link rel="prefetch" href="/vuepress/assets/js/169.12486dd8.js"><link rel="prefetch" href="/vuepress/assets/js/17.4b75274d.js"><link rel="prefetch" href="/vuepress/assets/js/170.7025d00a.js"><link rel="prefetch" href="/vuepress/assets/js/171.f731b875.js"><link rel="prefetch" href="/vuepress/assets/js/172.9948095f.js"><link rel="prefetch" href="/vuepress/assets/js/173.f2cee910.js"><link rel="prefetch" href="/vuepress/assets/js/174.6ee93fdb.js"><link rel="prefetch" href="/vuepress/assets/js/175.08b9114f.js"><link rel="prefetch" href="/vuepress/assets/js/176.2f7e9e4c.js"><link rel="prefetch" href="/vuepress/assets/js/177.4f7b24d3.js"><link rel="prefetch" href="/vuepress/assets/js/178.88a3d6dc.js"><link rel="prefetch" href="/vuepress/assets/js/179.f929724e.js"><link rel="prefetch" href="/vuepress/assets/js/18.e26b3111.js"><link rel="prefetch" href="/vuepress/assets/js/180.659cac59.js"><link rel="prefetch" href="/vuepress/assets/js/181.e1fea79d.js"><link rel="prefetch" href="/vuepress/assets/js/182.bc39f4f5.js"><link rel="prefetch" href="/vuepress/assets/js/183.41f9ebb7.js"><link rel="prefetch" href="/vuepress/assets/js/184.124b9c27.js"><link rel="prefetch" href="/vuepress/assets/js/185.fbbe6136.js"><link rel="prefetch" href="/vuepress/assets/js/186.0e44c0bc.js"><link rel="prefetch" href="/vuepress/assets/js/187.662c25fd.js"><link rel="prefetch" href="/vuepress/assets/js/188.c09a7171.js"><link rel="prefetch" href="/vuepress/assets/js/189.0645acf4.js"><link rel="prefetch" href="/vuepress/assets/js/19.472d7c24.js"><link rel="prefetch" href="/vuepress/assets/js/190.e30e3397.js"><link rel="prefetch" href="/vuepress/assets/js/191.4c18dbe4.js"><link rel="prefetch" href="/vuepress/assets/js/192.b0010b72.js"><link rel="prefetch" href="/vuepress/assets/js/193.6a41b4da.js"><link rel="prefetch" href="/vuepress/assets/js/194.e81733ee.js"><link rel="prefetch" href="/vuepress/assets/js/195.41293b9e.js"><link rel="prefetch" href="/vuepress/assets/js/196.7bc5b5bb.js"><link rel="prefetch" href="/vuepress/assets/js/197.382ed20a.js"><link rel="prefetch" href="/vuepress/assets/js/198.c1ccc588.js"><link rel="prefetch" href="/vuepress/assets/js/199.d50e3286.js"><link rel="prefetch" href="/vuepress/assets/js/20.94693444.js"><link rel="prefetch" href="/vuepress/assets/js/200.b25481b2.js"><link rel="prefetch" href="/vuepress/assets/js/201.439e5179.js"><link rel="prefetch" href="/vuepress/assets/js/202.c8b330c4.js"><link rel="prefetch" href="/vuepress/assets/js/203.586de92c.js"><link rel="prefetch" href="/vuepress/assets/js/204.9991ae79.js"><link rel="prefetch" href="/vuepress/assets/js/205.129ec2df.js"><link rel="prefetch" href="/vuepress/assets/js/206.c4ee49bf.js"><link rel="prefetch" href="/vuepress/assets/js/207.ed23d1dd.js"><link rel="prefetch" href="/vuepress/assets/js/208.69efcf64.js"><link rel="prefetch" href="/vuepress/assets/js/209.ca5f96ca.js"><link rel="prefetch" href="/vuepress/assets/js/21.97b24146.js"><link rel="prefetch" href="/vuepress/assets/js/210.8d62bc5d.js"><link rel="prefetch" href="/vuepress/assets/js/211.a0b60d9a.js"><link rel="prefetch" href="/vuepress/assets/js/212.c14a79ec.js"><link rel="prefetch" href="/vuepress/assets/js/213.9312455a.js"><link rel="prefetch" href="/vuepress/assets/js/214.26caa3c9.js"><link rel="prefetch" href="/vuepress/assets/js/215.45256fa1.js"><link rel="prefetch" href="/vuepress/assets/js/216.e8ac5698.js"><link rel="prefetch" href="/vuepress/assets/js/217.748dfbe0.js"><link rel="prefetch" href="/vuepress/assets/js/218.ea4dc7f4.js"><link rel="prefetch" href="/vuepress/assets/js/219.50ab6de7.js"><link rel="prefetch" href="/vuepress/assets/js/22.21de46f2.js"><link rel="prefetch" href="/vuepress/assets/js/220.2f636973.js"><link rel="prefetch" href="/vuepress/assets/js/221.003386ea.js"><link rel="prefetch" href="/vuepress/assets/js/222.dd9092b0.js"><link rel="prefetch" href="/vuepress/assets/js/223.3fd0345a.js"><link rel="prefetch" href="/vuepress/assets/js/224.c0953e2a.js"><link rel="prefetch" href="/vuepress/assets/js/225.7860e4d4.js"><link rel="prefetch" href="/vuepress/assets/js/226.e0912772.js"><link rel="prefetch" href="/vuepress/assets/js/227.37518a0c.js"><link rel="prefetch" href="/vuepress/assets/js/228.577b11f2.js"><link rel="prefetch" href="/vuepress/assets/js/229.41c0f793.js"><link rel="prefetch" href="/vuepress/assets/js/23.955061d4.js"><link rel="prefetch" href="/vuepress/assets/js/230.b61ddaf0.js"><link rel="prefetch" href="/vuepress/assets/js/231.6d1f96f5.js"><link rel="prefetch" href="/vuepress/assets/js/232.6a0e4c47.js"><link rel="prefetch" href="/vuepress/assets/js/233.f0060536.js"><link rel="prefetch" href="/vuepress/assets/js/234.12983c8c.js"><link rel="prefetch" href="/vuepress/assets/js/235.7213a9e1.js"><link rel="prefetch" href="/vuepress/assets/js/236.dfaf7191.js"><link rel="prefetch" href="/vuepress/assets/js/237.bfbaa530.js"><link rel="prefetch" href="/vuepress/assets/js/238.4efd8e91.js"><link rel="prefetch" href="/vuepress/assets/js/239.8a02b3c9.js"><link rel="prefetch" href="/vuepress/assets/js/24.7f12797d.js"><link rel="prefetch" href="/vuepress/assets/js/240.b5a91d01.js"><link rel="prefetch" href="/vuepress/assets/js/241.13bdc170.js"><link rel="prefetch" href="/vuepress/assets/js/242.ee4e98dc.js"><link rel="prefetch" href="/vuepress/assets/js/243.225837c6.js"><link rel="prefetch" href="/vuepress/assets/js/244.295615a8.js"><link rel="prefetch" href="/vuepress/assets/js/245.1f279ca7.js"><link rel="prefetch" href="/vuepress/assets/js/246.e7a10176.js"><link rel="prefetch" href="/vuepress/assets/js/247.10f4859b.js"><link rel="prefetch" href="/vuepress/assets/js/248.df3bd02e.js"><link rel="prefetch" href="/vuepress/assets/js/249.95394a30.js"><link rel="prefetch" href="/vuepress/assets/js/25.15a87bc3.js"><link rel="prefetch" href="/vuepress/assets/js/250.07b4d458.js"><link rel="prefetch" href="/vuepress/assets/js/251.e2f99414.js"><link rel="prefetch" href="/vuepress/assets/js/252.e373f175.js"><link rel="prefetch" href="/vuepress/assets/js/253.b432bd3d.js"><link rel="prefetch" href="/vuepress/assets/js/254.84000041.js"><link rel="prefetch" href="/vuepress/assets/js/255.5333ff5d.js"><link rel="prefetch" href="/vuepress/assets/js/256.c41e47be.js"><link rel="prefetch" href="/vuepress/assets/js/257.449896ae.js"><link rel="prefetch" href="/vuepress/assets/js/258.8e9c75dc.js"><link rel="prefetch" href="/vuepress/assets/js/259.38c29ff2.js"><link rel="prefetch" href="/vuepress/assets/js/26.fceccbd9.js"><link rel="prefetch" href="/vuepress/assets/js/260.99c9542b.js"><link rel="prefetch" href="/vuepress/assets/js/261.623335db.js"><link rel="prefetch" href="/vuepress/assets/js/262.36ad6e40.js"><link rel="prefetch" href="/vuepress/assets/js/263.ab207585.js"><link rel="prefetch" href="/vuepress/assets/js/264.bd9700ae.js"><link rel="prefetch" href="/vuepress/assets/js/265.1cae0b73.js"><link rel="prefetch" href="/vuepress/assets/js/266.1dbfec2f.js"><link rel="prefetch" href="/vuepress/assets/js/267.1d51c564.js"><link rel="prefetch" href="/vuepress/assets/js/268.3f87e1d7.js"><link rel="prefetch" href="/vuepress/assets/js/269.f4aa8d38.js"><link rel="prefetch" href="/vuepress/assets/js/27.403d1686.js"><link rel="prefetch" href="/vuepress/assets/js/270.3b6c6805.js"><link rel="prefetch" href="/vuepress/assets/js/271.0668d9a4.js"><link rel="prefetch" href="/vuepress/assets/js/272.2bce940b.js"><link rel="prefetch" href="/vuepress/assets/js/273.8a035a5d.js"><link rel="prefetch" href="/vuepress/assets/js/274.c15e1642.js"><link rel="prefetch" href="/vuepress/assets/js/275.b0668b46.js"><link rel="prefetch" href="/vuepress/assets/js/276.04ccdaa6.js"><link rel="prefetch" href="/vuepress/assets/js/277.de461ba1.js"><link rel="prefetch" href="/vuepress/assets/js/278.aa823331.js"><link rel="prefetch" href="/vuepress/assets/js/279.fc34b7ee.js"><link rel="prefetch" href="/vuepress/assets/js/28.04a7b0eb.js"><link rel="prefetch" href="/vuepress/assets/js/280.43bd3bad.js"><link rel="prefetch" href="/vuepress/assets/js/281.467a02e2.js"><link rel="prefetch" href="/vuepress/assets/js/282.0c56797b.js"><link rel="prefetch" href="/vuepress/assets/js/283.cecca985.js"><link rel="prefetch" href="/vuepress/assets/js/284.0d0a70f0.js"><link rel="prefetch" href="/vuepress/assets/js/285.c973d664.js"><link rel="prefetch" href="/vuepress/assets/js/286.135bf504.js"><link rel="prefetch" href="/vuepress/assets/js/287.e91a5cd6.js"><link rel="prefetch" href="/vuepress/assets/js/288.35a91419.js"><link rel="prefetch" href="/vuepress/assets/js/289.1aef0134.js"><link rel="prefetch" href="/vuepress/assets/js/29.ba9b611d.js"><link rel="prefetch" href="/vuepress/assets/js/290.4f02154c.js"><link rel="prefetch" href="/vuepress/assets/js/291.51de0a4e.js"><link rel="prefetch" href="/vuepress/assets/js/292.d87bc0cf.js"><link rel="prefetch" href="/vuepress/assets/js/293.40e73745.js"><link rel="prefetch" href="/vuepress/assets/js/294.f95dde2f.js"><link rel="prefetch" href="/vuepress/assets/js/295.325dc67a.js"><link rel="prefetch" href="/vuepress/assets/js/296.f0256dfa.js"><link rel="prefetch" href="/vuepress/assets/js/3.aa7d95dd.js"><link rel="prefetch" href="/vuepress/assets/js/30.46d6b8ed.js"><link rel="prefetch" href="/vuepress/assets/js/31.e0902dac.js"><link rel="prefetch" href="/vuepress/assets/js/32.61f5f8e7.js"><link rel="prefetch" href="/vuepress/assets/js/33.07011d5a.js"><link rel="prefetch" href="/vuepress/assets/js/34.83bed084.js"><link rel="prefetch" href="/vuepress/assets/js/35.6ab55eed.js"><link rel="prefetch" href="/vuepress/assets/js/36.ffb44d5b.js"><link rel="prefetch" href="/vuepress/assets/js/37.7b500bc5.js"><link rel="prefetch" href="/vuepress/assets/js/38.658b3189.js"><link rel="prefetch" href="/vuepress/assets/js/39.fcc69d8e.js"><link rel="prefetch" href="/vuepress/assets/js/4.d1f5b885.js"><link rel="prefetch" href="/vuepress/assets/js/40.8f2ae71b.js"><link rel="prefetch" href="/vuepress/assets/js/41.7202b112.js"><link rel="prefetch" href="/vuepress/assets/js/42.3d37035e.js"><link rel="prefetch" href="/vuepress/assets/js/43.aa8f733a.js"><link rel="prefetch" href="/vuepress/assets/js/44.7c404532.js"><link rel="prefetch" href="/vuepress/assets/js/45.697cd14d.js"><link rel="prefetch" href="/vuepress/assets/js/46.a092cf63.js"><link rel="prefetch" href="/vuepress/assets/js/47.b5e8817e.js"><link rel="prefetch" href="/vuepress/assets/js/48.3bb7b63d.js"><link rel="prefetch" href="/vuepress/assets/js/49.4e569658.js"><link rel="prefetch" href="/vuepress/assets/js/5.cce9358c.js"><link rel="prefetch" href="/vuepress/assets/js/50.7ad10da9.js"><link rel="prefetch" href="/vuepress/assets/js/51.9ae0ed72.js"><link rel="prefetch" href="/vuepress/assets/js/52.53cf075d.js"><link rel="prefetch" href="/vuepress/assets/js/53.be5ac6d9.js"><link rel="prefetch" href="/vuepress/assets/js/54.f366373a.js"><link rel="prefetch" href="/vuepress/assets/js/55.d8626f64.js"><link rel="prefetch" href="/vuepress/assets/js/56.764ef886.js"><link rel="prefetch" href="/vuepress/assets/js/57.2aeb6056.js"><link rel="prefetch" href="/vuepress/assets/js/58.9a30c522.js"><link rel="prefetch" href="/vuepress/assets/js/59.f1da2093.js"><link rel="prefetch" href="/vuepress/assets/js/6.e9f5e6bc.js"><link rel="prefetch" href="/vuepress/assets/js/60.98a73771.js"><link rel="prefetch" href="/vuepress/assets/js/61.8929612f.js"><link rel="prefetch" href="/vuepress/assets/js/62.bf32dd5b.js"><link rel="prefetch" href="/vuepress/assets/js/63.1c2fef99.js"><link rel="prefetch" href="/vuepress/assets/js/64.20dfa673.js"><link rel="prefetch" href="/vuepress/assets/js/65.39c5724b.js"><link rel="prefetch" href="/vuepress/assets/js/66.f4a51538.js"><link rel="prefetch" href="/vuepress/assets/js/67.db45a026.js"><link rel="prefetch" href="/vuepress/assets/js/68.83cc3fb0.js"><link rel="prefetch" href="/vuepress/assets/js/69.ef52f491.js"><link rel="prefetch" href="/vuepress/assets/js/7.6e53c956.js"><link rel="prefetch" href="/vuepress/assets/js/70.f672af1b.js"><link rel="prefetch" href="/vuepress/assets/js/71.d204c90a.js"><link rel="prefetch" href="/vuepress/assets/js/72.af7129f2.js"><link rel="prefetch" href="/vuepress/assets/js/73.295afd76.js"><link rel="prefetch" href="/vuepress/assets/js/74.1bc9fd9d.js"><link rel="prefetch" href="/vuepress/assets/js/75.ef8d0c49.js"><link rel="prefetch" href="/vuepress/assets/js/76.7b08e150.js"><link rel="prefetch" href="/vuepress/assets/js/77.fcd77ba4.js"><link rel="prefetch" href="/vuepress/assets/js/78.dc5867f0.js"><link rel="prefetch" href="/vuepress/assets/js/79.5fcae014.js"><link rel="prefetch" href="/vuepress/assets/js/8.84d717d2.js"><link rel="prefetch" href="/vuepress/assets/js/80.34f9e73c.js"><link rel="prefetch" href="/vuepress/assets/js/81.e4927a96.js"><link rel="prefetch" href="/vuepress/assets/js/82.fcc4e428.js"><link rel="prefetch" href="/vuepress/assets/js/83.02918e43.js"><link rel="prefetch" href="/vuepress/assets/js/84.f64cb2aa.js"><link rel="prefetch" href="/vuepress/assets/js/85.6a793ddf.js"><link rel="prefetch" href="/vuepress/assets/js/86.24a62020.js"><link rel="prefetch" href="/vuepress/assets/js/87.2f664712.js"><link rel="prefetch" href="/vuepress/assets/js/88.ffb405da.js"><link rel="prefetch" href="/vuepress/assets/js/89.23c18bba.js"><link rel="prefetch" href="/vuepress/assets/js/9.cb6bda61.js"><link rel="prefetch" href="/vuepress/assets/js/90.796dc64d.js"><link rel="prefetch" href="/vuepress/assets/js/91.1e0184a5.js"><link rel="prefetch" href="/vuepress/assets/js/92.bf2b5393.js"><link rel="prefetch" href="/vuepress/assets/js/93.c3cb2f93.js"><link rel="prefetch" href="/vuepress/assets/js/94.4865d112.js"><link rel="prefetch" href="/vuepress/assets/js/95.a45e6576.js"><link rel="prefetch" href="/vuepress/assets/js/96.89b9ae89.js"><link rel="prefetch" href="/vuepress/assets/js/97.2a8520ea.js"><link rel="prefetch" href="/vuepress/assets/js/98.bee26721.js"><link rel="prefetch" href="/vuepress/assets/js/99.bf0c2338.js">
    <link rel="stylesheet" href="/vuepress/assets/css/0.styles.ff70c332.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar istop"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress/" class="home-link router-link-active"><!----> <span class="site-name">Sroxck</span></a> <div class="links"><div class="search-box"><input aria-label="Search" placeholder="Search doc" autocomplete="off" aria-placeholder="搜索技术文档" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress/Outher/" class="nav-link">
  随手记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><span class="title">笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记" class="mobile-dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress/ES6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/Js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/java/" class="nav-link">
  JAVA
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/Css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><a href="/vuepress/ES6-guides/intro.html" class="nav-link">
  ES6
</a></div><div class="nav-item"><a href="/vuepress/WebApi-guides/canvas.html" class="nav-link">
  WebApi
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人开发文档" class="dropdown-title"><span class="title">个人开发文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人开发文档" class="mobile-dropdown-title"><span class="title">个人开发文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress/Sims/sims.html" class="nav-link">
  Sims
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/Sui/" class="nav-link">
  Sims-ui
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/Sims/tool_en.html" class="nav-link">
  Sims-tool
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/Sims/transAst.html" class="nav-link">
  Sims-ast
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress/Outher/" class="nav-link">
  随手记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><span class="title">笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记" class="mobile-dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress/ES6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/Js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/java/" class="nav-link">
  JAVA
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/Css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><a href="/vuepress/ES6-guides/intro.html" class="nav-link">
  ES6
</a></div><div class="nav-item"><a href="/vuepress/WebApi-guides/canvas.html" class="nav-link">
  WebApi
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人开发文档" class="dropdown-title"><span class="title">个人开发文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人开发文档" class="mobile-dropdown-title"><span class="title">个人开发文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress/Sims/sims.html" class="nav-link">
  Sims
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/Sui/" class="nav-link">
  Sims-ui
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/Sims/tool_en.html" class="nav-link">
  Sims-tool
</a></li><li class="dropdown-item"><!----> <a href="/vuepress/Sims/transAst.html" class="nav-link">
  Sims-ast
</a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="io"><a href="#io" class="header-anchor">#</a> IO</h1> <p>I: input 输入
O: output 输出
流: 二进制数据</p> <h2 id="字节输出流-output-stream"><a href="#字节输出流-output-stream" class="header-anchor">#</a> 字节输出流 Output stream</h2> <blockquote><p>java.io
OutputStream 所有字节输出流的超类,定义了一些共性的方法</p></blockquote> <h3 id="文件字节输出流-fileoutputstream"><a href="#文件字节输出流-fileoutputstream" class="header-anchor">#</a> 文件字节输出流 FileOutputStream</h3> <blockquote><p>FileOutputStream extends OutputStream
构造方法</p></blockquote> <ol><li>FileOutputStream(String name) name: 目的地是一个文件的路径</li> <li>FileOutputStream(File file) file: 目的地是一个文件</li></ol> <p>构造方法的作用</p> <ol><li>创建FileOutputStream对象</li> <li>根据构造方法中存底的文件/文件路径,创建一个空的文件</li> <li>会把FileOutputStream对象指向创建的文件</li></ol> <h2 id="写入数据"><a href="#写入数据" class="header-anchor">#</a> 写入数据</h2> <p>写入数据原理(内存=&gt;硬盘)
java程序-&gt; JVM(java虚拟机)-&gt;OS操作系统-&gt;OS调用写数据方法-&gt;写入数据</p> <h2 id="字节输出流的使用步骤-重点"><a href="#字节输出流的使用步骤-重点" class="header-anchor">#</a> <strong>字节输出流的使用步骤(重点)</strong></h2> <ol><li>创建FileOutputStream对象,构造方法中传递写入数据的目的地</li> <li>调用FileOutputStream对象中的方法write,数据写入文件</li> <li>释放资源(流使用会占用内存,使用完清空流,提高效率) close()</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IOdemo</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建fileoutputstream对象</span>
    fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token number">44</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 写入数据 十进制的数字会转换成而二进制</span>
    fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 关闭流</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="一次写多个字节"><a href="#一次写多个字节" class="header-anchor">#</a> 一次写多个字节</h2> <ol><li>如果写的第一个字节是正数,显示的时候会查询ASCII表</li> <li>如果写的第一个字节是负数,第一个字节和第二个字节,组成一个中文显示,查询系统默认码表GBK</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IOdemo</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;b.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> sz <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">65</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">66</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">67</span><span class="token punctuation">,</span><span class="token number">68</span><span class="token punctuation">,</span><span class="token number">69</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>sz<span class="token punctuation">)</span><span class="token punctuation">;</span>
    fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="把字节数组的一部分写入文件"><a href="#把字节数组的一部分写入文件" class="header-anchor">#</a> 把字节数组的一部分写入文件</h2> <p>write(byte[] b,int off,int len)
off: 数组的开始索引:从哪里开始写
len: 写几个</p> <h2 id="写入字符串的方法"><a href="#写入字符串的方法" class="header-anchor">#</a> 写入字符串的方法</h2> <p>可以用string类中的getBytes()把字符串转换成字节数组
utf-8 3字节是一个中文
GBK 2字节是一个中文</p> <h2 id="数据追加写-续写-和换行写"><a href="#数据追加写-续写-和换行写" class="header-anchor">#</a> 数据追加写(续写)和换行写</h2> <h3 id="续写"><a href="#续写" class="header-anchor">#</a> 续写</h3> <p>使用两个参数的构造方法
FileOutputStream(String name,boolean append)<br>
FileOutputStream(File file,boolean append)<br>
append:追加写开关 如果是true : 创建对象不会覆盖源文件,会在文件的末尾追加写数据,如果是false: 会创建一个新文件,覆盖源文件,在新文件中写数据</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IOdemo</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;b.txt&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
    fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="换行写"><a href="#换行写" class="header-anchor">#</a> 换行写</h3> <p>写换行符号
\r\n windows<br>
\r mac系统<br>
\n linux系统</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IOdemo</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;b.txt&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
      fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;\r&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="字节输入流"><a href="#字节输入流" class="header-anchor">#</a> 字节输入流</h2> <blockquote><p>inputStream 定义了所有子类共性的方法,是个超类,抽象类</p></blockquote> <h2 id="fileinputstream-子类"><a href="#fileinputstream-子类" class="header-anchor">#</a> fileInputStream 子类</h2> <p>作用: 把硬盘中的数据,读取到内存中使用
构造方法:</p> <ol><li>fileInputStream(String name)</li> <li>fileInputStream(File file)
参数是读取文件的数据源,name是文件的路径,file是文件<br>
构造方法的作用:</li> <li>创建fileInputStream对象</li> <li>把fileInputStream对象指向构造方法中要读取的文件
使用步骤:</li> <li>创建fileInputStream对象,构造方法中板顶要读取的数据源</li> <li>使用read方法读取文件</li> <li>释放资源</li></ol> <h2 id="读取"><a href="#读取" class="header-anchor">#</a> 读取</h2> <p>int read() 读取文件中的一个字节并返回,读取到文件末尾返回-1
读文件是一个重复的过程,使用循环优化,不知道循环多少次,使用while循环
循环条件为读取到-1的时候结束</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Input</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> ln <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//记录读取到的字节</span>
    <span class="token class-name">FileInputStream</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ln <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> ln<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>while ((ln = file.read()) != -1) 布尔表达式意思</p> <ol><li>file.read()读取一个字节</li> <li>赋值给ln</li> <li>判断len 是否不等于-1
while ((ln = file.read()) != -1)  固定写法 因为每次read() 都会让指针后移一位,所以循环中不能读取,否则就是多次读取</li></ol> <h2 id="字节流输入流一次读取多个字节"><a href="#字节流输入流一次读取多个字节" class="header-anchor">#</a> 字节流输入流一次读取多个字节</h2> <blockquote><p>String(byte[] bytes) 把字节数组 转换为字符串
String(byte[] bytes,int offset int length) 把字节数组的一部分 转换为字符串
<img src="/vuepress/assets/img/2.f993a82f.png" alt="img"></p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Input</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> ln <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//记录读取到的字节</span>
    <span class="token class-name">FileInputStream</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> read <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>read<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>数组起到缓冲作用,存储读取到的多个字节
int read(byte[])</p> <ol><li>参数byte[]起到缓冲作用,存储每次读取到的多个字节,数组的长度一般定义为1024或者1024的整数倍</li> <li>返回值int 是每次读取的有效字节数</li></ol> <p>循环读取多个字节,字节数组转换为有效字符 使用 String(byte[] bytes,int offset int length)</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Input</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> ln <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//记录读取到的字节</span>
    <span class="token class-name">FileInputStream</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ln <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>ln<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="文件赋值-一读一写"><a href="#文件赋值-一读一写" class="header-anchor">#</a> 文件赋值(一读一写)</h2> <p>需明确
1: 数据源
2: 目的地</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Copy</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">FileInputStream</span> fos1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">FileOutputStream</span> fos2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;/Users/sroxck/Pictures/b.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fos1<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      fos2<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    fos2<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fos1<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>上面代码的问题,效率慢,一个字节一个字节的读取和复制,使用数组缓冲,读取多个,写入多个,来优化</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Copy</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">FileInputStream</span> fos1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">FileOutputStream</span> fos2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;/Users/sroxck/Pictures/b.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> fos1<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      fos2<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    fos2<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fos1<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="字符流"><a href="#字符流" class="header-anchor">#</a> 字符流</h2> <p>使用字节流读取中文文件的问题: 如果是GBK 一个中文占用2个字节,如果是UTF8 占用3个,而字节流只能一次读取一个</p> <blockquote><p>字符流可以一次读取一个字符</p></blockquote> <h3 id="字符输入流-reader"><a href="#字符输入流-reader" class="header-anchor">#</a> 字符输入流 Reader</h3> <h3 id="字符输出流-writer"><a href="#字符输出流-writer" class="header-anchor">#</a> 字符输出流 Writer</h3> <blockquote><p>java.io.Reader 抽象类 顶级父类</p></blockquote> <h3 id="公共方法"><a href="#公共方法" class="header-anchor">#</a> 公共方法</h3> <p>read() 读取单个字符
read(char[] charlist) 将字符读入数组
read(char[] int offset int length)</p> <h3 id="子类-filereader-extend-inputstreamreader-extend-reader"><a href="#子类-filereader-extend-inputstreamreader-extend-reader" class="header-anchor">#</a> 子类 FileReader extend InputStreamReader extend Reader</h3> <h3 id="filereader-文件字符输入流"><a href="#filereader-文件字符输入流" class="header-anchor">#</a> FileReader 文件字符输入流</h3> <p>把硬盘中的字节,已字符的方式读取到内存中<br>
构造方法:</p> <ol><li>FileReader(String name)</li> <li>FileReader(File file)
参数: 文件的数据源
name: 路径名
file: 文件</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code> 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReaderDemo</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">FileReader</span> fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> ln <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ln<span class="token operator">=</span>fr<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> ln<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// abcd是打发</span>
    <span class="token punctuation">}</span>
    fr<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="flush-和-close的区别"><a href="#flush-和-close的区别" class="header-anchor">#</a> flush 和 close的区别</h2> <p>flush(): 刷新缓冲区,流对象可以继续使用,刷新之后流可以继续使用
close:先刷新缓冲区,通知系统释放资源,流对象不可以在使用</p> <h2 id="字符输出流-filewriter"><a href="#字符输出流-filewriter" class="header-anchor">#</a> 字符输出流 FileWriter</h2> <p>FileWriter(String,str,Boolean append)
FileWriter(File,file,Boolean append)
参数1: 目的地
参数2: 续写开关
写文件的方法
write(int int)
write(char[] list)
write(String str)</p> <h3 id="字符输出-续写和换行"><a href="#字符输出-续写和换行" class="header-anchor">#</a> 字符输出 续写和换行</h3> <h2 id="使用try-catch抛出异常"><a href="#使用try-catch抛出异常" class="header-anchor">#</a> 使用try,catch抛出异常</h2> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo1</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
    <span class="token class-name">FileWriter</span> fwt<span class="token operator">=</span><span class="token keyword">null</span> <span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
       fwt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;/23/a43.txt&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> list <span class="token operator">=</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      fwt<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> err<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>fwt <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
          fwt<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="jdk7新特性"><a href="#jdk7新特性" class="header-anchor">#</a> JDK7新特性</h2> <p>可以在try后加入一个括号,在括号中定义流对象,这样这个流对象的作用域就在try中有效,try代码执行完毕,自动释放流对象,不用写finally</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo1</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
    <span class="token keyword">try</span><span class="token punctuation">(</span><span class="token class-name">FileWriter</span> fwt<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;a43.txt&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> list <span class="token operator">=</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      fwt<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> err<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="jdk9新特性"><a href="#jdk9新特性" class="header-anchor">#</a> JDK9新特性</h2> <p>try的前面可以定义流对象,在try后面的括号()中 可以直接引入流对象的名称(变量名),在try代码块执行完毕后流对象自动清理</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo1</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">FileWriter</span> fwt<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;a43.txt&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span><span class="token punctuation">(</span>fwt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> list <span class="token operator">=</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      fwt<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> err<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="属性集"><a href="#属性集" class="header-anchor">#</a> 属性集</h2> <blockquote><p>java.io.Properties extends HashTable&lt;&gt; implements Map&lt;&gt;</p></blockquote> <h3 id="properties类表示一个持久的属性集"><a href="#properties类表示一个持久的属性集" class="header-anchor">#</a> Properties类表示一个持久的属性集</h3> <p>是一个唯一和IO流相结合的集合
可以使用集合中的方法store将集合中的临时数据,持久化写入到硬盘中存储
可以使用集合中的方法load,把硬盘中的文件(键值对),读取到集合中使用
属性列表中的每个键和值都是一个字符串
Properties集合是一个双列集合,key和value都是字符串
Properties集合有操作字符串的特有方法</p> <ol><li>Object setProperty(key,value)调用Hashtable的方法put</li> <li>String getProperty(key) 通过key找value,相当于Map集合中的get(key)方法</li> <li>Set<code>&lt;String&gt;</code> stringPropertyNames() 返回属性列表中的key集,也就是所有key组成的list,想到哪与Map集合中的keySet方法</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo1</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
   <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Properties</span> pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pro<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;我1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;111&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pro<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;我2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;222&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pro<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;我3&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;333&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> pro<span class="token punctuation">.</span><span class="token function">stringPropertyNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">String</span> value <span class="token operator">=</span> pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token operator">+</span><span class="token string">&quot;=&quot;</span><span class="token operator">+</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="store-持久化写入"><a href="#store-持久化写入" class="header-anchor">#</a> store 持久化写入</h2> <p>把集合中的临时数据写入到硬盘中保存
store(OutputStream out,String comments)
store(Writer writer,String comments)
参数:  OutputStream 字节输出流,不能写中文
Writer 字符输出流,可以写中文
comments 注释,用来解释保存的文件是做什么的,不能使用中文
使用步骤:</p> <ol><li>创建properties集合对象,添加数据</li> <li>创建字符输出流/字节输出溜,构造方法中绑定要输出的目的地</li> <li>使用properties集合中的方法store,把集合中的数据存储到硬盘中</li> <li>释放资源</li></ol> <p>具体代码:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo1</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
   <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">{</span>

<span class="token comment">//    1. 创建properties集合对象,添加数据</span>
    <span class="token class-name">Properties</span> pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pro<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;我1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;111&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pro<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;我2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;222&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pro<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;我3&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;333&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//    2. 创建字符输出流/字节输出溜,构造方法中绑定要输出的目的地</span>
    <span class="token class-name">FileWriter</span> fw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//    3. 使用properties集合中的方法store,把集合中的数据存储到硬盘中</span>
    pro<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span>fw<span class="token punctuation">,</span><span class="token string">&quot;save&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//    4. 释放资源</span>
    fw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// a.txt</span>
<span class="token comment">// #save</span>
<span class="token comment">// #Mon Sep 06 10:21:38 CST 2021</span>
<span class="token comment">// 我3=333</span>
<span class="token comment">// 我2=222</span>
<span class="token comment">// 我1=111</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="load-读取硬盘中的键值对文件"><a href="#load-读取硬盘中的键值对文件" class="header-anchor">#</a> load 读取硬盘中的键值对文件</h2> <p>load()(InputStream instream)
load(Reader reader)
InputStream: 字节输入流,不能读中文
Reader:字符输入流,能读中文</p> <p>使用步骤:</p> <ol><li>创建properties集合对象</li> <li>使用集合对象中的方法load()读取文件</li> <li>遍历集合,查看数据</li></ol> <p>注意事项:</p> <ol><li>存储键值对的文件中,默认的连接符号可以使用 = 或者空格(其他符号)</li> <li>存储键值对的文件中,可以使用#进行注释,被注释的键值对不会被读取</li> <li>存储键值对的文件中,键值对都是字符串,可以不用加引号</li></ol> <p>代码实现:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo1</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
   <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">{</span>
    <span class="token comment">// 1. 创建properties集合对象</span>
    <span class="token class-name">Properties</span> pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2. 使用集合对象中的方法load()读取文件</span>
    pro<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. 遍历集合,查看数据</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> strings <span class="token operator">=</span> pro<span class="token punctuation">.</span><span class="token function">stringPropertyNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> string <span class="token operator">:</span> strings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>string<span class="token operator">+</span>pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>读写综合案例:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token class-name">Demo01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileReader</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileWriter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo1</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
   <span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 写键值对文件</span>
   <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 读键值对文件</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">{</span>
    <span class="token comment">// 1. 创建IO相关集合, Properties</span>
    <span class="token class-name">Properties</span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2. 创建文件输入流,读取中文,使用字符文件输入流</span>
    <span class="token class-name">FileReader</span> fileReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. 使用集合方法load,读取键值对文件</span>
    list<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>fileReader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 4. 遍历查看读取的数据</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> setList <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stringPropertyNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> item <span class="token operator">:</span> setList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>item <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> list<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 输出结果</span>
    <span class="token comment">// name=张山</span>
    <span class="token comment">// age=18</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">{</span>
    <span class="token comment">// 1.创建IO相关集合 properties,写入数据</span>
    <span class="token class-name">Properties</span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;张山&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;18&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2.创建输出流,写中文就创建字符输出流</span>
    <span class="token class-name">FileWriter</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. 使用集合方法store,持久化键值对到文件中</span>
    list<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 4. 释放资源</span>
    file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//    文件写入结果</span>
    <span class="token comment">//    #test</span>
    <span class="token comment">//    #Mon Sep 06 10:50:45 CST 2021</span>
    <span class="token comment">//    name=张山</span>
    <span class="token comment">//    age=18</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h2 id="缓冲流"><a href="#缓冲流" class="header-anchor">#</a> 缓冲流</h2> <p>也叫高效流,是对4个基本的filexxx流的增强,所以也是4流,按照数据类型分类:</p> <ol><li>字节缓冲流</li></ol> <ul><li>BufferedInputStream,BufferdOutputStream</li></ul> <ol start="2"><li>字符缓冲流</li></ol> <ul><li>BufferedReader,BufferedWriter</li></ul> <p>缓冲流的基本原理,在创建流对象时,会创建一个内置的默认大小的缓冲区数组,通过缓冲区读写,减少系统io次数,提高读写效率</p> <h3 id="bufferdoutputstream"><a href="#bufferdoutputstream" class="header-anchor">#</a> BufferdOutputStream</h3> <p>BufferdOutputStream(outputStream)
BufferdOutputStream(outputStream output, int size)
参数:</p> <ol><li>outputStream 字节输出流</li> <li>size 指定缓冲流内部缓冲区大小,不指定默认</li></ol> <p>使用步骤</p> <ol><li>创建FileOutputStream对象,构造方法传入输出的目的地</li> <li>创建BufferdOutputStream对象,构造方法传递FileOutputStream对象</li> <li>使用BufferdOutputStream中的方法write,写数据到缓冲区</li> <li>使用flush,刷新缓冲区</li> <li>释放资源,(会默认调用一次flush,第四步可省略)调用close方法释放资源</li></ol> <p>代码实现:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo02</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">//1. 创建FileOutputStream对象,构造方法传入输出的目的地</span>
    <span class="token comment">//2. 创建BufferdOutputStream对象,构造方法传递FileOutputStream对象</span>
    <span class="token comment">//3. 使用BufferdOutputStream中的方法write,写数据到缓冲区</span>
    <span class="token comment">//4. 使用flush,刷新缓冲区</span>
    <span class="token comment">//5. 释放资源,(会默认调用一次flush,第四步可省略)调用close方法释放资源</span>
    <span class="token class-name">FileOutputStream</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;bufferd.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BufferedOutputStream</span> buff <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    buff<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;你好啊&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    buff<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    buff<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="bufferdinputstream"><a href="#bufferdinputstream" class="header-anchor">#</a> BufferdInputStream</h3> <p>BufferdInputStream(outputStream)
BufferdInputStream(outputStream output, int size)
参数:</p> <ol><li>InputStream 字节输入流</li> <li>size 指定缓冲流内部缓冲区大小,不指定默认</li></ol> <p>使用步骤</p> <ol><li>创建FileInputStream对象,构造方法传入读取的源</li> <li>创建BufferdInputStream对象,构造方法传递FileInputStream对象</li> <li>使用BufferdInputStream中的方法read,读数据到缓冲区</li> <li>释放资源</li></ol> <p>代码实现</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo02</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">//使用步骤</span>
    <span class="token comment">//1. 创建FileInputStream对象,构造方法传入读取的源</span>
    <span class="token comment">//2. 创建BufferdInputStream对象,构造方法传递FileInputStream对象</span>
    <span class="token comment">//3. 使用BufferdInputStream中的方法read,读数据到缓冲区</span>
    <span class="token comment">//4. 释放资源</span>
    <span class="token class-name">FileInputStream</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;bufferd.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BufferedInputStream</span> buff <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len <span class="token operator">=</span> buff<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="bufferedreader-字符缓冲输入流"><a href="#bufferedreader-字符缓冲输入流" class="header-anchor">#</a> BufferedReader 字符缓冲输入流</h3> <p>BufferedReader(Reader input)
BufferedReader(Reader input,int size)
特有的成员方法: readLine() 读取一行数据,行的终止符号:换行\n 回车\r 或者\n\r 如果已经到末尾返回null</p> <p>使用步骤:</p> <ol><li>创建字符缓冲输入流对象,构造方法传递字符输入流</li> <li>调用read\readLine方法读取数据</li> <li>释放资源</li></ol> <p>代码实现:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo02</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">BufferedReader</span> buff <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> buff<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    buff<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="bufferedwriter-字符缓冲输出流"><a href="#bufferedwriter-字符缓冲输出流" class="header-anchor">#</a> BufferedWriter 字符缓冲输出流</h3> <p>BufferedWriter(Writer out)
BufferedWriter(Writer out,int size)
特有的成员方法: newLine() 写入一个行分隔符.根据不同的操作系统,获取不同的分隔符</p> <p>使用步骤:</p> <ol><li>创建字符缓冲输出流对象,构造方法传递字符输出流</li> <li>调用write方法写入数据</li> <li>调用flush刷新数据</li> <li>释放资源</li></ol> <p>代码实现:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo02</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">BufferedWriter</span> buff <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    buff<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    buff<span class="token punctuation">.</span><span class="token function">newLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    buff<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    buff<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="转换流"><a href="#转换流" class="header-anchor">#</a> 转换流</h2> <p><img src="/vuepress/assets/img/sou.fdedcac3.png" alt="img"></p> <h3 id="outputstreamwriter-outputstream-out-string-charsetname"><a href="#outputstreamwriter-outputstream-out-string-charsetname" class="header-anchor">#</a> outputStreamWriter(OutputStream out,String charsetName)</h3> <p>参数: charsetName 指定字符集,不指定默认utf-8</p> <p>代码:写一个gbk格式的文件</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo04</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">OutputStreamWriter</span> os <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;top.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;GBK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    os<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>读取同理,不在做笔记了</p> <h2 id="序列化流和反序列化流"><a href="#序列化流和反序列化流" class="header-anchor">#</a> 序列化流和反序列化流</h2> <blockquote><p>序列化和反序列化会抛出没有序列化异常,需要实现serializable接口,也叫标记型接口,要进行序列化和反序列的类必须实现serializable接口,就会给类添加一个标记,当序列化和反序列化的时候会检查类上释放有这个标记,有就可以执行,否则抛出异常
把对象以流的方式写入到文件中,叫写对象,也叫对象的序列化
把文件中保存的对象,已流的方式读取出来,叫做对象的反序列化</p></blockquote> <h3 id="objectoutputstream-序列化流"><a href="#objectoutputstream-序列化流" class="header-anchor">#</a> ObjectOutputStream 序列化流</h3> <p>构造方法:
ObjectOutputStream(OutputStream out) 创建写入指定OutputStream的ObjectOutputStream
特有方法:
writeObject(Object obj) 将指定的对象写入ObjectOutputStream
使用步骤:</p> <ol><li>创建ObjectOutputStream对象,构造方法中传递字节输出流</li> <li>使用ObjectOutputStream对象中的方法writeObject,把对象写入文件中</li> <li>释放资源</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// main.java</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo04</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">ObjectOutputStream</span> oos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;person.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    oos<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;每次&quot;</span><span class="token punctuation">,</span><span class="token number">39</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    oos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//Person.java</span>
<span class="token keyword">package</span> <span class="token class-name">Demo01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;Person{&quot;</span> <span class="token operator">+</span>
      <span class="token string">&quot;name='&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
      <span class="token string">&quot;, age=&quot;</span> <span class="token operator">+</span> age <span class="token operator">+</span>
      <span class="token string">'}'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><h3 id="objectinputstream-反序列化流"><a href="#objectinputstream-反序列化流" class="header-anchor">#</a> ObjectInputStream 反序列化流</h3> <blockquote><p>把文件中对象已流的形式读取出来
构造方法:ObjectInputStream(InputStream input)
特有方法:readObject()
使用步骤:</p></blockquote> <ol><li>创建ObjectInputStream对象,构造方法中传递一个字节输入流</li> <li>使用特有方法readObject</li> <li>释放资源</li> <li>使用读取出的对象</li></ol> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo04</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">{</span>
    <span class="token class-name">ObjectInputStream</span> ois <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;person.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> o <span class="token operator">=</span> ois<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ois<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="瞬态关键字-transient"><a href="#瞬态关键字-transient" class="header-anchor">#</a> 瞬态关键字 transient</h2> <p>static 关键字:静态关键字
静态优先于非静态加载到内容中(优先于对象进入到内容)
被static修饰的变量不能被序列化,序列化的都是对象</p> <p>被transient修饰的成员,不能被序列化</p> <h2 id="解决序列号冲突异常的方法"><a href="#解决序列号冲突异常的方法" class="header-anchor">#</a> 解决序列号冲突异常的方法</h2> <p>手动添加以下代码
static final log serialVersionUID = 1L</p> <h2 id="案例"><a href="#案例" class="header-anchor">#</a> 案例</h2> <p>序列化集合</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token class-name">Demo01</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo05</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">{</span>
    <span class="token comment">//1 创建arraylist集合</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//2 存储对象</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;诊室1&quot;</span><span class="token punctuation">,</span><span class="token number">1101</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;诊室2&quot;</span><span class="token punctuation">,</span><span class="token number">1120</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;诊室3&quot;</span><span class="token punctuation">,</span><span class="token number">1103</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3 创建序列化对象</span>
    <span class="token class-name">ObjectOutputStream</span> oos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;newtest.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 4 进行序列化</span>
    oos<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 5 创建反序列化对象</span>
    <span class="token class-name">ObjectInputStream</span> ois <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;newtest.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 6 读取集合</span>
    <span class="token class-name">Object</span> o <span class="token operator">=</span> ois<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 7 object类型转ArrayList</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> list2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>
    <span class="token comment">// 8 遍历</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Person</span> person <span class="token operator">:</span> list2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="打印流"><a href="#打印流" class="header-anchor">#</a> 打印流</h3> <p>PrintStream
特点: 只负责输出,永远不会抛出IOException,有特有方法print,println</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021-12-16 16:14</span></div></footer> <!----> </main> <div class="slideshow"><div class="slideshow-image" style="background-image:url(/vuepress/assets/img/图片3.b23ffa6d.jpeg);"></div> <div class="slideshow-image" style="background-image:url(/vuepress/assets/img/图片1.1b3969f4.jpeg);"></div> <div class="slideshow-image" style="background-image:url(/vuepress/assets/img/图片2.1c44d8e6.jpeg);"></div> <div class="slideshow-image" style="background-image:url(/vuepress/assets/img/图片4.0eadb41b.jpeg);"></div> <div class="slideshow-image" style="background-image:url(/vuepress/assets/img/图片5.bf3e56b6.jpeg);"></div> <div class="slideshow-image" style="background-image:url(/vuepress/assets/img/图片6.6ed32861.jpeg);"></div> <div class="slideshow-image" style="background-image:url(/vuepress/assets/img/图片7.1f138db0.jpeg);"></div></div></div><div class="global-ui"></div></div>
    <script src="/vuepress/assets/js/app.bbe92bc2.js" defer></script><script src="/vuepress/assets/js/2.f37fa600.js" defer></script><script src="/vuepress/assets/js/16.19e52523.js" defer></script>
  </body>
</html>
