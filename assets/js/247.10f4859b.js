(window.webpackJsonp=window.webpackJsonp||[]).push([[247],{822:function(t,s,e){"use strict";e.r(s);var a=e(58),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"vue3中使用eventbus"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue3中使用eventbus"}},[t._v("#")]),t._v(" vue3中使用eventBus")]),t._v(" "),e("p",[t._v("在vue3中移除了 "),e("code",[t._v("$on")]),t._v(" "),e("code",[t._v("$emit")]),t._v(" "),e("code",[t._v("$once")]),t._v(" 所以vue2使用的eventBus跨组件通讯的功能就无法使用了,在vue3中可以采用mitt来达到一样的效果")]),t._v(" "),e("h2",{attrs:{id:"mitt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mitt"}},[t._v("#")]),t._v(" mitt")]),t._v(" "),e("blockquote",[e("p",[t._v("饿了么团队最新vue3版本ui库使用mitt\nmitt 是一套用來处理事件订阅/发布的函数库,可以通过mitt 来使用vue3移除的 "),e("code",[t._v("$on")]),t._v(" "),e("code",[t._v("$emit")]),t._v(" "),e("code",[t._v("$once")])])]),t._v(" "),e("ol",[e("li",[t._v("安装")])]),t._v(" "),e("p",[e("code",[t._v("yarn add mitt")])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[t._v("建立mitt实例")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// bus.js")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mitt "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mitt'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mitt")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可选写法")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" mitt "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mitt'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" emitter "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mitt")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nemitter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$off "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" emitter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("off\nemitter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$on "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" emitter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("on\nemitter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$emit "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" emitter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("emit\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" emitter\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br")])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("如vue2的bus使用方法一样使用即可")])])])}),[],!1,null,null,null);s.default=n.exports}}]);